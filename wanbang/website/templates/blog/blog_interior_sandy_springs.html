{% extends 'blog/blog_template.html' %}

{% load static %}

{% block title %}Modern Farmhouse in Sandy Springs{% endblock %}

{% block blog_title %}Modern Farmhouse in Sandy Springs{% endblock %}
{% block breadcrumb_title %}Modern Farmhouse{% endblock %}

{% block blog_content %}
  <!-- Styled Section Title -->
  <div class="section-heading text-center mb-50">
    <h2>Modern Farmhouse</h2>
    <p>Interior Design & Transformation in Sandy Springs</p>
    <div class="line"></div>
  </div>
  
  <div class="post-meta mb-30">
    <a href="#"><i class="fa fa-calendar"></i> July 15, 2024</a>&nbsp;&nbsp;&nbsp;
    <a href="#"><i class="fa fa-map-marker"></i> Sandy Springs, GA</a>&nbsp;&nbsp;&nbsp;
    <a href="#"><i class="fa fa-tag"></i> Residential</a>
  </div>
  
  <!-- Main Image -->
  <div class="post-thumbnail mb-30">
    <img src="{% static 'website/img/blog-img/ss-main.jpg' %}" alt="Modern Farmhouse" class="enlargeable" onclick="openModal(this)">
  </div>
  
  <!-- Introduction Section -->
  <div class="project-introduction mb-40">
    <div class="markdown-content">
      <h3>Project Overview</h3>
      <p>This stunning Modern Farmhouse transformation in Sandy Springs showcases the perfect blend of rustic charm and modern elegance. Our clients desired a warm, inviting space that honored the traditional farmhouse aesthetic while incorporating contemporary elements for everyday living.</p>
      <p>The project encompassed a complete interior redesign, focusing on the kitchen, living room, and master bedroom areas. Our team worked closely with the homeowners to select materials, finishes, and furnishings that reflected their personal style while creating a cohesive design narrative throughout the home.</p>
    </div>
  </div>
  
  <!-- Kitchen Transformation Section -->
  <div class="content-section mb-5">
    <h3 class="section-heading mb-3">Kitchen Transformation</h3>
    <div class="section-text mb-4">
      <p>The kitchen underwent the most dramatic transformation, evolving from a dated, closed-off space to an open, airy gathering spot for family and friends.</p>
    </div>
    
    <!-- Before/After Image Comparison - Vertical Layout -->
    <div class="before-after-container">
      <div class="comparison-set-vertical mb-4">
        
        <div class="row">
          <div class="col-md-6">
            <h6 class="text-center before-label">Before</h6>
            <!-- First Before Image -->
            <div class="comparison-image mb-3">
              <img src="{% static 'website/img/blog-img/ss-kitchen-before-1.jpeg' %}" alt="Kitchen Before" class="img-fluid rounded enlargeable" onclick="openModal(this)">
            </div>
            
            <!-- Second Before Image -->
            <div class="comparison-image mb-3">
              <img src="{% static 'website/img/blog-img/ss-kitchen-before-2.jpeg' %}" alt="Kitchen Before" class="img-fluid rounded enlargeable" onclick="openModal(this)">
            </div>
            
            <!-- Third Before Image -->
            <div class="comparison-image mb-3">
              <img src="{% static 'website/img/blog-img/ss-kitchen-before-3.jpeg' %}" alt="Kitchen Before" class="img-fluid rounded enlargeable" onclick="openModal(this)">
            </div>
          </div>
          
          <div class="col-md-6">
            <h6 class="text-center after-label">After</h6>
            <!-- First After Image -->
            <div class="comparison-image mb-3">
              <img src="{% static 'website/img/blog-img/ss-kitchen-before-1.jpeg' %}" alt="Kitchen After" class="img-fluid rounded enlargeable" onclick="openModal(this)">
            </div>
            
            <!-- Second After Image -->
            <div class="comparison-image mb-3">
              <img src="{% static 'website/img/blog-img/ss-kitchen-before-2.jpeg' %}" alt="Kitchen After" class="img-fluid rounded enlargeable" onclick="openModal(this)">
            </div>
            
            <!-- Third After Image -->
            <div class="comparison-image mb-3">
              <img src="{% static 'website/img/blog-img/ss-kitchen-before-3.jpeg' %}" alt="Kitchen After" class="img-fluid rounded enlargeable" onclick="openModal(this)">
            </div>
          </div>
        </div>
        
        <div class="comparison-description mt-4">
          <p>We removed the wall separating the kitchen from the dining area, installed new shaker-style cabinetry in a soft white finish, and added a large center island with a farmhouse sink. The custom hood vent and open shelving bring both functionality and style to the space.</p>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Living Room Transformation Section -->
  <div class="content-section mb-5">
    <h3 class="section-heading mb-3">Living Room Redesign</h3>
    <div class="section-text mb-4">
      <p>The living room called for a balance between comfort and sophistication, where family could gather comfortably while still maintaining an elegant aesthetic.</p>
    </div>
    
    <!-- Before/After Image Comparison - Vertical Layout -->
    <div class="before-after-container">
      <div class="comparison-set-vertical">
        
        <div class="row">
          <div class="col-md-6">
            <h6 class="text-center before-label">Before</h6>
            <!-- First Before Image -->
            <div class="comparison-image mb-3">
              <img src="{% static 'website/img/blog-img/ss-livingroom-before-1.jpeg' %}" alt="Living Room Before" class="img-fluid rounded enlargeable" onclick="openModal(this)">
            </div>
            
            <!-- Second Before Image -->
            <div class="comparison-image mb-3">
              <img src="{% static 'website/img/blog-img/ss-livingroom-before-2.jpeg' %}" alt="Living Room Before" class="img-fluid rounded enlargeable" onclick="openModal(this)">
            </div>
            
            <!-- Third Before Image -->
            <div class="comparison-image mb-3">
              <img src="{% static 'website/img/blog-img/ss-livingroom-before-3.jpeg' %}" alt="Living Room Before" class="img-fluid rounded enlargeable" onclick="openModal(this)">
            </div>
          </div>
          
          <div class="col-md-6">
            <h6 class="text-center after-label">After</h6>
            <!-- First After Image -->
            <div class="comparison-image mb-3">
              <img src="{% static 'website/img/blog-img/ss-livingroom-before-1.jpeg' %}" alt="Living Room After" class="img-fluid rounded enlargeable" onclick="openModal(this)">
            </div>
            
            <!-- Second After Image -->
            <div class="comparison-image mb-3">
              <img src="{% static 'website/img/blog-img/ss-livingroom-before-2.jpeg' %}" alt="Living Room After" class="img-fluid rounded enlargeable" onclick="openModal(this)">
            </div>
            
            <!-- Third After Image -->
            <div class="comparison-image mb-3">
              <img src="{% static 'website/img/blog-img/ss-livingroom-before-3.jpeg' %}" alt="Living Room After" class="img-fluid rounded enlargeable" onclick="openModal(this)">
            </div>
          </div>
        </div>
        
        <div class="comparison-description mt-4">
          <p>We brightened the space with a fresh neutral palette, added custom built-ins flanking the fireplace, and incorporated a mix of textures through carefully selected furnishings. The new doors allow natural light to flood the space while connecting the indoors with the backyard patio.</p>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Master Bedroom Transformation Section -->
  <div class="content-section mb-5">
    <h3 class="section-heading mb-3">Master Bedroom & Bathroom</h3>
    <div class="section-text mb-4">
      <p>The master bedroom was reimagined as a serene retreat, emphasizing comfort without sacrificing style.</p>
    </div>
    
    <!-- Before/After Image Comparison - Vertical Layout -->
    <div class="before-after-container">
      <div class="comparison-set-vertical">
        
        <div class="row">
          <div class="col-md-6">
            <h6 class="text-center before-label">Before</h6>
            <!-- First Before Image -->
            <div class="comparison-image mb-3">
              <img src="{% static 'website/img/blog-img/ss-master-before-1.jpeg' %}" alt="Master Room Before" class="img-fluid rounded enlargeable" onclick="openModal(this)">
            </div>
            
            <!-- Second Before Image -->
            <div class="comparison-image mb-3">
              <img src="{% static 'website/img/blog-img/ss-master-before-2.jpeg' %}" alt="Master Room Before" class="img-fluid rounded enlargeable" onclick="openModal(this)">
            </div>
            
            <!-- Third Before Image -->
            <div class="comparison-image mb-3">
              <img src="{% static 'website/img/blog-img/ss-master-before-3.jpeg' %}" alt="Master Room Before" class="img-fluid rounded enlargeable" onclick="openModal(this)">
            </div>
          </div>
          
          <div class="col-md-6">
            <h6 class="text-center after-label">After</h6>
            <!-- First After Image -->
            <div class="comparison-image mb-3">
              <img src="{% static 'website/img/blog-img/ss-master-before-1.jpeg' %}" alt="Master Room After" class="img-fluid rounded enlargeable" onclick="openModal(this)">
            </div>
            
            <!-- Second After Image -->
            <div class="comparison-image mb-3">
              <img src="{% static 'website/img/blog-img/ss-master-before-2.jpeg' %}" alt="Master Room After" class="img-fluid rounded enlargeable" onclick="openModal(this)">
            </div>
            
            <!-- Third After Image -->
            <div class="comparison-image mb-3">
              <img src="{% static 'website/img/blog-img/ss-master-before-3.jpeg' %}" alt="Master Room After" class="img-fluid rounded enlargeable" onclick="openModal(this)">
            </div>
          </div>
        </div>
        
        <div class="comparison-description mt-4">
          <p>A soft color palette with layers of textiles creates warmth, while the custom headboard and statement lighting add character. We installed new hardwood flooring and added architectural details like the shiplap accent wall to enhance the farmhouse aesthetic.</p>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Project Details Section -->
  <div class="project-details mt-5">
    <h3>Project Details</h3>
    <div class="row">
      <div class="col-md-6 mb-4">
        <div class="detail-item">
          <h5><i class="fa fa-calendar"></i> Timeline</h5>
          <p>12 weeks from concept to completion</p>
        </div>
      </div>
      <div class="col-md-6 mb-4">
        <div class="detail-item">
          <h5><i class="fa fa-th-list"></i> Materials Used</h5>
          <p>White oak flooring, Benjamin Moore paint, custom cabinetry, quartz countertops, brass fixtures</p>
        </div>
      </div>
      <div class="col-md-6 mb-4">
        <div class="detail-item">
          <h5><i class="fa fa-exclamation-triangle"></i> Challenges</h5>
          <p>Working within the existing footprint while creating an open concept flow</p>
        </div>
      </div>
      <div class="col-md-6 mb-4">
        <div class="detail-item">
          <h5><i class="fa fa-lightbulb-o"></i> Design Elements</h5>
          <p>Modern farmhouse, modern rustic, natural textures, neutral palette with subtle color accents</p>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Conclusion -->
  <div class="conclusion mt-5 mb-4">
    <h3>Final Thoughts</h3>
    <p>This Sandy Springs Modern Farmhouse renovation perfectly demonstrates how thoughtful interior design can transform a dated home into a timeless, inviting space that honors traditional aesthetics while meeting modern needs. The homeowners now enjoy a home that feels both fresh and familiar, with carefully considered details that make everyday living more beautiful and functional.</p>
    <p>If you're inspired by this transformation and would like to discuss your own home renovation project, please <a href="{% url 'contact' %}">contact us</a> for a consultation.</p>
  </div>

  <!-- Image Lightbox Modal -->
  <div id="image-modal" class="lightbox-modal">
    <span class="close-modal">&times;</span>
    <img class="modal-content" id="enlarged-image">
    <div id="caption"></div>
  </div>

{% endblock %}

{% block recent_projects %}
  <div class="single-news-item d-flex align-items-center">
    <div class="news-thumbnail news-thumbnail-sm">
      <img src="{% static 'website/img/blog-img/exterior-placehorder.jpg' %}" alt="exterior">
    </div>
    <div class="news-content">
      <a href="#" class="project-title">Exterior Refinish</a>
      <span class="project-date">January 28, 2025</span>
    </div>
  </div>
  <br>
  <div class="single-news-item d-flex align-items-center">
    <div class="news-thumbnail news-thumbnail-sm">
      <img src="{% static 'website/img/blog-img/exterior-placeholder-1.jpg' %}" alt="exterior">
    </div>
    <div class="news-content">
      <a href="#" class="project-title">Stucco Repaint</a>
      <span class="project-date">October 28, 2024</span>
    </div>
  </div>
{% endblock %}

{% block additional_styles %}
  <style>
    /* Section Heading Styles */
    .section-heading {
      position: relative;
      margin-bottom: 30px;
    }
    
    .section-heading h2 {
      font-size: 36px;
      font-weight: 600;
      margin-bottom: 15px;
      text-transform: capitalize;
      line-height: 1.2;
    }
    
    .section-heading p {
      font-size: 16px;
      color: #707070;
      margin-bottom: 0;
    }
    
    .section-heading .line {
      width: 70px;
      height: 4px;
      background-color: #1F2A47;
      margin: 20px auto 0;
    }
    
    /* Sandy Springs specific styling */
    .content-section h3 {
      color: #333;
      font-size: 24px;
      margin-bottom: 15px;
    }
    
    /* Vertical Before-After Layout Styles */
    .before-after-container {
      margin: 25px 0 40px;
    }
    
    .comparison-set-vertical {
      margin-bottom: 35px;
      background-color: #f9f9f9;
      border-radius: 8px;
      padding: 25px 20px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    }
    
    .comparison-label {
      font-weight: 600;
      color: #1F2A47;
      position: relative;
      padding-bottom: 10px;
      font-size: 18px;
    }
    
    .comparison-label:after {
      content: "";
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 80px;
      height: 2px;
      background-color: #1F2A47;
    }
    
    .before-label, .after-label {
      font-weight: 600;
      margin-bottom: 15px;
      font-size: 16px;
    }
    
    .before-label {
      color: #D4A017; /* Updated to yellowish gold color */
    }
    
    .after-label {
      color: #1F2A47; /* Changed to use the original "before" color (dark blue) */
    }
    
    .comparison-image {
      position: relative;
      overflow: hidden;
      border-radius: 4px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
    
    .comparison-image img {
      display: block;
      width: 100%;
      height: auto;
      transition: transform 0.3s ease;
      border-radius: 4px;
    }
    
    .comparison-image img:hover {
      transform: scale(1.02);
    }
    
    .comparison-description {
      border-top: 1px solid #e0e0e0;
      padding-top: 20px;
      text-align: center;
    }
    
    .comparison-description p {
      font-size: 15px;
      line-height: 1.7;
      color: #555;
      max-width: 90%;
      margin: 0 auto;
    }
    
    @media (min-width: 992px) {
      .before-after-container {
        max-width: 95%;
        margin-left: auto;
        margin-right: auto;
      }
    }

    /* Image Lightbox Styles - Updated for better centering */
    .enlargeable {
      cursor: zoom-in !important;
      transition: opacity 0.3s ease;
      position: relative;
    }
    
    .enlargeable:hover {
      opacity: 0.9;
    }
    
    .lightbox-modal {
      display: none;
      position: fixed;
      z-index: 10000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: hidden;
      background-color: rgba(0,0,0,0.9);
      transition: opacity 0.3s ease;
      /* Use flexbox for perfect centering */
      align-items: center;
      justify-content: center;
      padding: 0;
    }
    
    .modal-content {
      /* Center the image with flexbox instead of margins */
      display: block;
      max-width: 90%;
      max-height: 85vh;
      animation: zoom 0.3s ease-in-out;
      object-fit: contain; /* Maintain aspect ratio */
      margin: 0; /* Remove auto margins */
    }
    
    @keyframes zoom {
      from {transform: scale(0.9); opacity: 0;}
      to {transform: scale(1); opacity: 1;}
    }
    
    .close-modal {
      position: absolute;
      top: 20px;
      right: 35px;
      color: #f1f1f1;
      font-size: 40px;
      font-weight: bold;
      cursor: pointer;
      transition: 0.3s;
      z-index: 10001;
      text-shadow: 0 0 5px rgba(0,0,0,0.7); /* Make it more visible on any background */
    }
    
    .close-modal:hover {
      color: #bbb;
    }
    
    #caption {
      position: absolute;
      bottom: 20px;
      width: 100%;
      text-align: center;
      color: #fff;
      padding: 10px 0;
      background-color: rgba(0,0,0,0.3); /* Semi-transparent background */
      font-size: 16px;
      font-weight: 500;
      text-shadow: 0 1px 2px rgba(0,0,0,0.6);
    }

    /* Magnifying glass icon */
    .enlargeable::after {
      content: "";
      position: absolute;
      top: 10px;
      right: 10px;
      width: 24px;
      height: 24px;
      background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="white"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/><path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/></svg>');
      background-size: cover;
      opacity: 0.7;
      z-index: 5;
      background-color: rgba(0, 0, 0, 0.3);
      border-radius: 50%;
      transition: opacity 0.2s;
    }
    
    .enlargeable:hover::after {
      opacity: 1;
    }

    /* Recent Projects Styling - Updated */
    .news-thumbnail-sm {
      width: 80px; /* Smaller image size */
      min-width: 80px; /* Ensure consistent width */
      height: 60px;
      overflow: hidden;
      margin-right: 15px;
    }
    
    .news-thumbnail-sm img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    
    .project-title {
      font-weight: 600;
      color: #1F2A47;
      font-size: 15px;
      line-height: 1.2;
      display: block;
      margin-bottom: 5px;
      transition: color 0.3s;
    }
    
    .project-title:hover {
      color: #00aeef;
      text-decoration: none;
    }
    
    .project-date {
      font-size: 13px;
      color: #777;
      font-style: italic;
      display: block;
    }
  </style>
{% endblock %}

{% block additional_scripts %}
<script>
  // Wait for the document to be fully loaded
  document.addEventListener('DOMContentLoaded', function() {
    console.log("DOM Content loaded - initializing image enlargement");
    
    // Get the modal elements
    const modal = document.getElementById('image-modal');
    
    // Check if modal exists
    if (!modal) {
      console.error("Modal element not found!");
      return;
    }
    
    const modalImg = document.getElementById('enlarged-image');
    const captionText = document.getElementById('caption');
    const closeBtn = document.getElementsByClassName('close-modal')[0];
    
    // Get all images with class "enlargeable"
    const images = document.getElementsByClassName('enlargeable');
    console.log("Found", images.length, "enlargeable images");
    
    // Add click event to all images
    for (let i = 0; i < images.length; i++) {
      images[i].onclick = function() {
        console.log("Image clicked:", this.alt);
        modal.style.display = "flex";
        modalImg.src = this.src;
        captionText.innerHTML = this.alt;
        
        // Prevent scrolling on the body when modal is open
        document.body.style.overflow = "hidden";
      };
      
      // Add visual indicator that image is clickable
      images[i].title = "Click to enlarge";
    }
    
    // Close modal when clicking on the X
    closeBtn.onclick = function() {
      modal.style.display = "none";
      // Re-enable scrolling
      document.body.style.overflow = "";
    };
    
    // Close modal when clicking outside the image
    modal.onclick = function(event) {
      if (event.target === modal) {
        modal.style.display = "none";
        // Re-enable scrolling
        document.body.style.overflow = "";
      }
    };
    
    // Close modal when pressing ESC key
    document.addEventListener('keydown', function(event) {
      if (event.key === "Escape" && modal.style.display === "flex") {
        modal.style.display = "none";
        // Re-enable scrolling
        document.body.style.overflow = "";
      }
    });
    
    console.log("Image enlargement initialization complete");
  });

  // Direct function to open the modal - will work even if other scripts fail
  function openModal(img) {
    const modal = document.getElementById('image-modal');
    const modalImg = document.getElementById('enlarged-image');
    const captionText = document.getElementById('caption');
    
    if (!modal || !modalImg) {
      console.error("Modal elements not found!");
      alert("Image viewer is not available. Please try again later.");
      return;
    }
    
    console.log("Opening modal for image:", img.alt);
    modal.style.display = "flex";
    modalImg.src = img.src;
    captionText.innerHTML = img.alt;
    document.body.style.overflow = "hidden"; // Prevent scrolling
  }
  
  // Add click handlers using inline attribute as backup
  document.addEventListener('DOMContentLoaded', function() {
    // Add direct span to indicate image is enlargeable
    const images = document.querySelectorAll('.enlargeable');
    images.forEach(img => {
      // Make sure the image has the onclick attribute
      if (!img.hasAttribute('onclick')) {
        img.setAttribute('onclick', 'openModal(this)');
      }
    });
    
    // Explicitly add click handler to close button
    const closeBtn = document.querySelector('.close-modal');
    if (closeBtn) {
      closeBtn.onclick = function() {
        document.getElementById('image-modal').style.display = "none";
        document.body.style.overflow = ""; // Allow scrolling again
      };
    }
  });
</script>
{% endblock %}
